
## AWS Basic:
### Створення та налаштування VPC, підмереж, інтернет-шлюзу, EC2 інстансу та EIP в AWS

### [< view log_aws_ec2-HWork22>](./log_aws_ec2-HWork22.md)

#### 1. Створення та налаштування VPC

![](Report/img.png)

* Створення VPC  
Заходимо в консоль AWS.
Переходимо в сервіс **VPC**.
Вибираємо **Create VPC**.
CIDR блок для VPC ( 10.0.0.0/16). Це буде основна мережа, яка містить всі наші підмережі.


![](Report/img_1.png)

* Number of public subnets2 and
* Number private subnets 2
* Один NAT Gateway та S3 Gateway  у зоні

![](Report/img_2.png)
* Залишаємо інші параметри за замовчуванням, якщо не потрібно налаштовувати додаткові параметри.
Натискаємо **Create**.

![](Report/img_3.png)
* Створення підмереж в даному випадку пройшло автоматично

* Для створення публічної підмережі:
    - Вибираємо VPC, створену раніше.
    - Вводимо ім'я підмережі (наприклад, `Public Subnet`).
    - Вказуємо CIDR блок для публічної підмережі
    - ( 10.0.0.0/20)- для us-east-1a Availability Zone та
    - ( 10.16.0.0/20). для us-east-1b Availability Zone .
     
![](Report/img_5.png)

![](Report/img_7.png)

* Створення підмереж приватних в даному випадку пройшло автоматично
* Для створення приватної підмережі:
    - Повторюємо ті ж кроки, вказуючи ім'я підмережі (наприклад, `Private Subnet`).
      Вказуємо CIDR блок для приветних підмереж 
    - ( 10.0.128.0/20)    - для us-east-1a Availability Zone та
    - ( 10.0.144.0/20)    - для us-east-1b Availability Zone .
  
![](Report/img_4.png)

![](Report/img_6.png)
![](Report/img_8.png)

![](Report/img_12.png)

* Створення та налаштування інтернет-шлюзу (Internet Gateway)
пройшло також автоматично**
  ![](Report/img_10.png)
  ![](Report/img_11.png)

якщо вручну:
* **Internet Gateways** і натискаємо **Create internet gateway**.
 `InternetGateway` Після створення, прив'язуємо інтернет-шлюз до VPC, вибираючи **Attach to VPC**.



###  NAT Gateway
![](Report/img_9.png)

![](Report/img_13.png)
* 
* Налаштування таблиць маршрутизації**
В даному випадку також пройшло автоматично
 Якщо вручну  переходимо до **Route Tables**. Створюємо нову таблицю маршрутизації для публічної підмережі, вибираючи **Create route table**.
Додаємо новий маршрут, який направляє весь трафік (0.0.0.0/0) до інтернет-шлюзу.
Прив'язуємо таблицю маршрутизації до публічної підмережі через **Subnet Associations**.
Для приватної підмережі використовуємо іншу таблицю маршрутизації без маршруту до інтернет-шлюзу (якщо не потрібен доступ до Інтернету).
  ![](Report/img_11.png)
####  Налаштування груп безпеки (Security Groups) та списків контролю доступу (ACL) 

![](Report/img_25.png)
![](Report/img_14.png)

**Security Group**
 **EC2** > **Security Groups**.
Створюємо нову групу безпеки `SecurityGroup`).
Додаємо правила для дозволу вхідного HTTP та SSH трафіку з будь-якої IP-адреси:
    - Додаємо правило для порту **22 (SSH)** з джерела **0.0.0.0/0**.
    - Додаємо правило для порту **80 (HTTP)** з джерела **0.0.0.0/0**.

**Network ACLs**
**Network ACLs** і вибираємо VPC. Створено новий ACL і додано вхідні та вихідні правила для дозволу HTTP та SSH трафіку (як в Security Group)
але окремо по входу і окремо по виходу.
Прив'язуємо ACL до підмережі.

### Запуск інстансу EC2

* Створення інстансу EC2**
Перейдімо в **EC2** > **Instances** і натискаємо **Launch Instance**.
  ![](Report/img_15.png)

* Вибираємо **Amazon Linux  AMI**. Вибираємо тип інстансу (наприклад, **t2.micro**, який є безкоштовним).
Вибираємо публічну підмережу для інстансу. Вибираємо вже створену групу безпеки.
 
![](Report/img_17.png)

* Додаємо пару ключів для SSH доступу:
    -  створюємо нову і завантажуємо приватний ключ.

  ![](Report/img_16.png)

 ### Запускаємо інстанс.
  
![](Report/img_18.png)
  ![](Report/img_19.png)
  ![](Report/img_20.png)


#### Призначення еластичної IP-адреси (EIP)

* Створення та призначення EIP** (створено)
**Elastic IPs** в консолі AWS. Натискаємо **Allocate new address** для створення нової еластичної IP-адреси.
Після створення, вибираємо **Actions** і натискаємо **Associate address**. Вибираємо інстанс EC2, до якого потрібно призначити EIP, і натискаємо **Associate**.
Тепер інстанс EC2 має доступ до Інтернету через публічну IP-адресу та можна підключатися до нього через SSH, використовуючи EIP.
  ![](Report/img_22.png)
  ![](Report/img_23.png)


## Підключаємося до інстанса через клієнт SSH

![](Report/img_21.png)
![](Report/img_26.png)
![](Report/img_27.png)
![](Report/img_24.png)

### Підсумки:
**Створено VPC** з CIDR блоком 10.0.0.0/16, включаючи публічну та приватну підмережі.
**Налаштовано інтернет-шлюз** та маршрутизацію для публічної підмережі.
**Безпека**: Створено Security Group для доступу через SSH та HTTP з будь-якої IP-адреси.
**Запуск EC2 інстансу** з Amazon Linux 2 в публічній підмережі та доступ через SSH.
**Еластична IP-адреса (EIP)** призначена до інстансу для постійного публічного доступу.

![](Report/img_28.png)
![](Report/img_29.png)
Ці кроки дозволяють забезпечити базову інфраструктуру для роботи з EC2 інстансами в AWS, забезпечуючи доступ до Інтернету та налаштування безпеки.
````